{% extends 'layout.html' %}
{% load static %}
{% block css %}
    <style>


        .feather {
            width: 16px;
            height: 16px;
            vertical-align: text-bottom;
        }

        /*
		 * Sidebar
		 */

        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100; /* Behind the navbar */
            padding: 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
        }

        .sidebar-sticky {
            position: absolute;
            top: 50px; /* Height of navbar */
            height: calc(100vh - 50px);
            padding-top: .5rem;
            overflow-x: hidden;
            overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
        }

        .sidebar .nav-link {
            font-weight: 500;
            color: #333;
        }

        .sidebar .nav-link .feather {
            margin-right: 4px;
            color: #999;
        }

        .sidebar .nav-link.active {
            color: #007bff;
        }

        .sidebar .nav-link:hover .feather,
        .sidebar .nav-link.active .feather {
            color: inherit;
        }

        .sidebar-heading {
            font-size: .75rem;
            text-transform: uppercase;
        }

        /*
		 * Navbar
		 */

        {#.navbar-brand {#}
        {#    padding-top: .75rem;#}
        {#    padding-bottom: .75rem;#}
        {#    font-size: 1rem;#}
        {#    background-color: rgba(0, 0, 0, .25);#}
        {#    box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);#}
        {#}#}

        .navbar .form-control {
            padding: .75rem 1rem;
            border-width: 0;
            border-radius: 0;
        }

        .form-control-dark {
            color: #fff;
            background-color: rgba(255, 255, 255, .1);
            border-color: rgba(255, 255, 255, .1);
        }

        .form-control-dark:focus {
            border-color: transparent;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
        }


        .border-top {
            border-top: 1px solid #e5e5e5;
        }

        .border-bottom {
            border-bottom: 1px solid #e5e5e5;
        }
    </style>
{% endblock %}
{% block content %}
    <!--左侧导航栏-->
    <div class="container-fluid "><!--创建一块全尺寸的container-->
        <div class="row navbar-expand-md"><!--引入栅栏系统 将导航栏在中等屏幕尺寸下扩展到全屏宽度-->
            <nav class="col-md-3 col-lg-2 bg-light navbar-collapse collapse sidebar" id="sidenav">
                <!--超过md占据三列，超过lg占据两列 浅色背景 汉堡包按钮-->
                <div class="sidebar-sticky flex-column w-100 mt-2">
                    <!--sidebar-sticky是自定义类 flex-column使得子元素垂直方向展示 w-100 表示将元素的宽度设置为 100% margin-top设置为1级-->
                    <ul class="nav flex-column">
                        <li class="nav-item d-flex">
                            <input type="text" class="form-control ms-3 " placeholder="搜索 " name="search">
                            <button class="btn btn-light me-2" type="submit">
                                <i data-feather="search"></i>
                            </button>
                        </li>
                        <li class="nav-item mt-2"><!--nav-item 表示每个菜单项-->
                            <a class="nav-link " href="#"><!--nav-link 表示菜单项内的链接-->
                                <span data-feather="home"></span> 桌面 <!--data-feather 属性是用于引入 Feather Icons-->
                            </a>
                        </li>
                        <!-- <li class="nav-item">
                             <a class="nav-link" href="#">
                                 <span data-feather="file"></span> Orders
                             </a>
                         </li>
                         <li class="nav-item">
                             <a class="nav-link" href="#">
                                 <span data-feather="users"></span> 账号管理
                             </a>
                         </li>
                         <li class="nav-item">
                             <a class="nav-link" href="#">
                                 <span data-feather="bar-chart-2"></span> Reports
                             </a>
                         </li>
                         <li class="nav-item">
                             <a class="nav-link" href="#">
                                 <span data-feather="layers"></span> Integrations
                             </a>
                         </li>-->
                    </ul>

                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>基础信息管理</span>
                        <a class="d-flex align-items-center text-muted" href="#">
                            <!--text-muted为灰色 align-items-center垂直居中-->
                            <span data-feather="plus-circle"></span>
                        </a>
                    </h6>
                    <ul class="nav flex-column mt-2 mb-2">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">
                                <span data-feather="file-text"></span> 用户信息管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="file-text"></span> 气源信息管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="file-text"></span> 管网信息管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="file-text"></span> 购销差专项工作管理
                            </a>
                        </li>
                        <!-- <li class="nav-item">
                             <a class="nav-link" href="#">
                                 <span data-feather="file-text"></span> 其他信息管理
                             </a>
                         </li>-->
                    </ul>
                </div>
            </nav>


        </div>
    </div>
    <!--右边内容-->
    <section class="container-fluid">
        <div class="row navbar-expand-md">
            <div class="col-md-3 col-lg-2 ">
                <!--nothing here-->
            </div>
            <div class="col-md-9 col-lg-10 mt-3 ">
                <div class="input-group " style="margin-bottom: 10px; max-width: 500px;">
                    <!--<input type="text" id="search" class="form-control form-control-lg"
                           placeholder="请输入关键词进行搜索" style="background: none;">-->
                    <div class="input-group-append ms-3 mt-2">
                        <!--<button type="button" class="btn btn-secondary ">搜索</button>-->
                        <button class="btn btn-primary" id="tianjia" data-bs-toggle="modal"
                                data-bs-target="#addModal">
                            <span data-feather="plus"></span>
                            <span>添加</span>
                        </button>
                    </div>
                </div>
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <!--<th scope="col">勾选</th>-->
                        <th scope="col">ID</th>
                        <th scope="col">姓名</th>
                        <th scope="col">电话</th>
                        <th scope="col">邮箱</th>
                        <th scope="col">更新时间</th>
                        <th scope="col">用户权限</th>
                        <th scope="col">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!--第一行-->
                    <tr>
                        <!--<td>
                            <div class="form-check">
                                <input class="form-check-input" name="option1" type="checkbox" value="something">
                                <label class="form-check-label"></label>
                            </div>
                        </td>-->
                        <td>1</td>
                        <td>Lorem ipsum</td>
                        <td>Lorem 456</td>
                        <td>Lorem ipsum</td>
                        <td>Lorem 123</td>
                        <td>
                            <div class="form-check form-switch">
                                <input checked class="form-check-input" name="darkmode" type="checkbox" value="yes">
                                <label class="form-check-label"></label>
                            </div>
                        </td>
                        <td>
                            <div class="btn-group">
                                <!--<button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal"
                                        data-bs-target="#editModal"
                                        onclick="editRow(this)">编辑
                                </button>-->
                                <button type="button" class="btn btn-danger btn-sm ms-2" onclick="deleteRow(this)">
                                    删除
                                </button>
                            </div>
                        </td>
                    </tr>
                    <!--第二行-->

                    </tbody>
                </table>
                <div>
                    <!-- <button class="btn btn-outline-secondary" id="quanxuan">
                         <span data-feather="check"></span>
                         <span>全选</span>
                     </button>-->

                    <!-- <button class="btn btn-danger" id="quanshan">
                         <span data-feather="trash-2"></span>
                         <span>批量删除</span>
                     </button>-->
                </div>
            </div>
        </div>
    </section>


    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">编辑用户信息</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <!--<div class="mb-3">
                           <label for="editID" class="form-label">勾选：</label>
                           <input type="checkbox" class="form-check-input" id="editCheckbox" name="checkbox">
                       </div>-->
                        <div class="mb-3">
                            <label for="editID" class="form-label">序号：</label>
                            <input type="text" class="form-control" id="editID" name="ID">
                        </div>
                        <div class="mb-3">
                            <label for="editName" class="form-label">姓名：</label>
                            <input type="text" class="form-control" id="editName" name="name">
                        </div>
                        <div class="mb-3">
                            <label for="editPhone" class="form-label">电话：</label>
                            <input type="text" class="form-control" id="editPhone" name="phone">
                        </div>
                        <div class="mb-3">
                            <label for="editEmail" class="form-label">邮箱：</label>
                            <input type="email" class="form-control" id="editEmail" name="email">
                        </div>
                        <div class="mb-3">
                            <label for="editTime" class="form-label">更新时间：</label>
                            <input type="text" class="form-control" id="editTime" name="time">
                        </div>
                        <div class="mb-3">
                            <label for="editPriority" class="form-label">用户权限：</label>
                            <input type="checkbox" class="form-check-input" id="editPriority" name="priority">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" onclick="saveChanges()">保存更改</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addModalLabel">添加用户信息</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addForm">
                        <!--<div class="mb-3">
                           <label for="editID" class="form-label">勾选：</label>
                           <input type="checkbox" class="form-check-input" id="editCheckbox" name="checkbox">
                       </div>-->
                        <div class="mb-3">
                            <label for="editID" class="form-label">序号：</label>
                            <input type="text" class="form-control" id="addID" name="ID">
                        </div>
                        <div class="mb-3">
                            <label for="editName" class="form-label">姓名：</label>
                            <input type="text" class="form-control" id="addName" name="name">
                        </div>
                        <div class="mb-3">
                            <label for="editPhone" class="form-label">电话：</label>
                            <input type="text" class="form-control" id="addPhone" name="phone">
                        </div>
                        <div class="mb-3">
                            <label for="editEmail" class="form-label">邮箱：</label>
                            <input type="email" class="form-control" id="addEmail" name="email">
                        </div>
                        <div class="mb-3">
                            <label for="editTime" class="form-label">更新时间：</label>
                            <input type="text" class="form-control" id="addTime" name="time">
                        </div>
                        <div class="mb-3">
                            <label for="editPriority" class="form-label">用户权限：</label>
                            <input type="checkbox" class="form-check-input" id="addPriority" name="priority">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" onclick="saveChanges()">保存更改</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script src="{% static 'js/feather.js' %}"
    <script>
        feather.replace();

        /*        var ctx = document.getElementById("myChart");
                var myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        datasets: [{
                            data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],
                            lineTension: 0,
                            backgroundColor: 'transparent',
                            borderColor: '#007bff',
                            borderWidth: 4,
                            pointBackgroundColor: '#007bff'
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: false
                                }
                            }]
                        },
                        legend: {
                            display: false,
                        }
                    }
                });*/


    </script>
    <script>
        // 获取所有的表格和按钮元素
        const tables = document.querySelectorAll('table');
        const buttons = document.querySelectorAll('.list-group-item');

        // 遍历所有的按钮元素，并为每个按钮添加点击事件处理程序
        buttons.forEach((button, index) => {
            button.addEventListener('click', () => {
                // 隐藏所有表格
                tables.forEach(table => {
                    table.style.display = 'none';
                });
                // 显示当前按钮对应的表格
                tables[index].style.display = 'table';
                // 将当前按钮设为 active 状态，移除其他按钮的 active 状态
                buttons.forEach(btn => {
                    btn.classList.remove('active');
                });
                button.classList.add('active');
            });
        });

    </script>
    <!--删除function-->
    <script>
        function deleteRow(button) {
            // 弹出确认删除提示框
            if (confirm("确认要删除该信息吗？")) {
                // 删除当前行
                $(button).closest('tr').remove();
            }
        }
    </script>
    <!--编辑表格-->
    <!--<script>
    function editRow(button) {
        // 获取当前行
        var row = $(button).closest("tr");

        // 从当前行中获取各个单元格的数据
        var id = row.find("td:eq(1)").text();
        var name = row.find("td:eq(2)").text();
        var phone = row.find("td:eq(3)").text();
        var email = row.find("td:eq(4)").text();
        var time = row.find("td:eq(5)").text();
        var priority = row.find("td:eq(6)").find("input[type='checkbox']").prop("checked");

        // 将这些数据填充到模态框中
        $("#editID").val(id);
        $("#editName").val(name);
        $("#editPhone").val(phone);
        $("#editEmail").val(email);
        $("#editTime").val(time);
        $("#editPriority").prop("checked", priority);

        // 显示模态框
        $("#editModal").modal("show");

        // 保存更改按钮点击事件处理函数
        $("#editForm button[type='submit']").click(function(e) {
            e.preventDefault();

            // 获取模态框中的数据
            var id = $("#editID").val();
            var name = $("#editName").val();
            var phone = $("#editPhone").val();
            var email = $("#editEmail").val();
            var time = $("#editTime").val();
            var priority = $("#editPriority").prop("checked");

            // 在表格中更新相应的行数据
            row.find("td:eq(2)").text(name);
            row.find("td:eq(3)").text(phone);
            row.find("td:eq(4)").text(email);
            row.find("td:eq(5)").text(time);
            row.find("td:eq(6)").find("input[type='checkbox']").prop("checked", priority);

            // 隐藏模态框
            $("#editModal").modal("hide");

            // 解绑点击事件处理函数
            $("#editForm button[type='submit']").unbind("click");
        });
    }
</script>-->
{% endblock %}